<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Jamnalal Parekh Finance — EMI Calculator</title>

  <style>
    :root{
      --bg:#0b1220; --card:#0f1724; --muted:#94a3b8;
      --accent:#10b981; --accent-2:#06b6d4;
      --text:#e6eef8; --glass:rgba(255,255,255,0.03);
    }
    *{box-sizing:border-box;font-family:Inter,system-ui,Segoe UI,Roboto,Arial}
    body{
      margin:0; padding:18px;
      background:linear-gradient(180deg,#071127,#071833);
      color:var(--text); display:flex; justify-content:center;
    }
    .wrap{width:100%;max-width:980px}
    .brand{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
    .logo{width:54px;height:54px;border-radius:12px;
      background:linear-gradient(135deg,var(--accent),var(--accent-2));
      display:flex;align-items:center;justify-content:center;
      color:#022;font-weight:700}
    .card{background:var(--card);padding:16px;border-radius:12px}
    .grid{display:grid;grid-template-columns:1fr 360px;gap:18px}
    @media(max-width:820px){.grid{grid-template-columns:1fr}}
    label{font-size:13px;color:var(--muted)}
    input,select{
      width:100%;padding:12px;border-radius:10px;
      background:var(--glass);border:1px solid rgba(255,255,255,0.05);
      color:var(--text)
    }
    .row{display:flex;gap:10px;margin-top:10px}
    .actions{display:flex;gap:10px;margin-top:12px;flex-wrap:wrap}
    .btn{
      padding:10px 14px;border-radius:10px;border:0;
      background:linear-gradient(90deg,var(--accent),var(--accent-2));
      color:#022;font-weight:700;cursor:pointer
    }
    table{width:100%;border-collapse:collapse;margin-top:12px}
    th,td{padding:8px;font-size:13px;border-bottom:1px solid rgba(255,255,255,0.05)}
    th{color:var(--muted);text-align:left}
    td{text-align:right}
    .emiBig{font-size:26px;font-weight:800}
    .note{color:var(--muted);font-size:13px}
  </style>
</head>

<body>
<div class="wrap">

  <div class="brand">
    <div style="display:flex;gap:12px;align-items:center">
      <div class="logo">JP</div>
      <div>
        <h2 style="margin:0">Jamnalal Parekh Finance</h2>
        <p class="note" style="margin:2px 0 0">Jagdalpur — 8718900100</p>
      </div>
    </div>
    <div class="note">Flat EMI Calculator</div>
  </div>

  <div class="grid">

    <!-- FORM -->
    <div class="card">
      <label>Loan Amount (₹)</label>
      <input id="amount" type="number" value="10000" step="100"/>

      <div class="row">
        <div style="flex:1">
          <label>Interest Rate</label>
          <select id="rateSelect">
            <option value="15">15%</option>
            <option value="14">14%</option>
            <option value="18">18%</option>
          </select>
        </div>
        <div style="width:160px">
          <label>Tenure (months)</label>
          <select id="tenureSelect"></select>
        </div>
      </div>

      <div class="actions">
        <button class="btn" id="calc">Calculate</button>
        <button class="btn" id="reset" style="background:transparent;color:var(--muted);border:1px solid rgba(255,255,255,0.1)">Reset</button>
      </div>

      <p class="note" style="margin-top:10px">
        Flat interest is calculated on original principal.
      </p>
    </div>

    <!-- RESULT -->
    <div class="card">
      <div>
        <div class="note">Monthly EMI</div>
        <div class="emiBig" id="emi">—</div>
        <div class="note" id="interestNote"></div>
      </div>

      <div style="margin-top:10px">
        <div class="note">Total Payment</div>
        <div id="totalPayment" style="font-weight:700">—</div>
        <div class="note">Total Interest: <span id="totalInterest">—</span></div>
      </div>

      <table>
        <thead>
          <tr>
            <th>Month</th>
            <th>EMI</th>
            <th>Principal</th>
            <th>Interest</th>
            <th>Balance</th>
          </tr>
        </thead>
        <tbody id="schedule"></tbody>
      </table>
    </div>

  </div>
</div>

<script>
const $ = id => document.getElementById(id);
const fmt = n => Number(n).toLocaleString('en-IN',{minimumFractionDigits:2});

function populateTenure(rate){
  const t = $('tenureSelect');
  t.innerHTML='';
  let opts=[];
  if(rate==15) opts=[12,18,24,30];
  else if(rate==14) opts=[11,17,23,29];
  else if(rate==18) opts=[6];
  opts.forEach(v=>{
    const o=document.createElement('option');
    o.value=v;o.text=v;t.appendChild(o);
  });
}

function interestMonths(rate,emi){
  if(rate==14) return emi+1;
  return emi;
}

function calculate(){
  const P=+$('amount').value;
  const rate=+$('rateSelect').value;
  const emiM=+$('tenureSelect').value;
  const intM=interestMonths(rate,emiM);

  const totalInterest=(P*rate*intM/12)/100;
  const total=P+totalInterest;
  const emi=total/emiM;

  $('emi').textContent='₹ '+fmt(emi);
  $('totalPayment').textContent='₹ '+fmt(total);
  $('totalInterest').textContent='₹ '+fmt(totalInterest);
  $('interestNote').textContent=`Interest calculated for ${intM} months`;

  const tbody=$('schedule');
  tbody.innerHTML='';
  let bal=P;
  const mp=P/emiM;
  const mi=totalInterest/emiM;

  for(let i=1;i<=emiM;i++){
    bal=Math.max(0,bal-mp);
    tbody.innerHTML+=`
      <tr>
        <td style="text-align:left">${i}</td>
        <td>${fmt(emi)}</td>
        <td>${fmt(mp)}</td>
        <td>${fmt(mi)}</td>
        <td>${fmt(bal)}</td>
      </tr>`;
  }
}

$('rateSelect').onchange=()=>populateTenure($('rateSelect').value);
$('calc').onclick=calculate;
$('reset').onclick=()=>location.reload();

populateTenure(15);
calculate();
</script>

</body>
</html>
